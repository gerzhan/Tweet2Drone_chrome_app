// Generated by CoffeeScript 1.5.0
var DRONE;

DRONE = DRONE || {};

DRONE.TweetQueue = (function() {
  var queue, running, speed;
  queue = [];
  running = false;
  speed = 3000;
  return {
    push: function(item) {
      return queue.push(item);
    },
    cancel: function() {
      if (running) {
        return clearInterval(running);
      }
    },
    loop: function() {
      if (!running) {
        return running = setInterval(function() {
          var msg, oldlength, opts, result;
          oldlength = queue.length;
          msg = queue.pop();
          if (msg) {
            opts = {
              msg: msg,
              error: function() {
                return Notifications.droneAction('error', "Error performing " + msg + ", not supported");
              },
              success: function() {
                return Notifications.droneAction('success', "Performing " + msg);
              }
            };
            return result = DRONE.Translator.translate(opts);
          }
        }, speed);
      }
    }
  };
})();
